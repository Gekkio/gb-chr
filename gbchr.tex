\include{config}

\ifnum \draft=1
  \documentclass[a4paper, draft, oneside]{memoir}
\else
  \documentclass[a4paper, oneside]{memoir}
\fi

\usepackage[final]{graphicx}
\usepackage[english]{babel}
\usepackage{fontspec}
\usepackage[T1]{fontenc}
\usepackage{charter}
\usepackage{mathpazo}
\usepackage[ttdefault=true]{AnonymousPro}
\usepackage{tabu}
\usepackage{pdflscape}
\usepackage{enumitem}
\usepackage{ccicons}
\usepackage[svgnames,table]{xcolor}
\usepackage{tikz}
\usepackage{tikz-timing}
\usepackage{wrapfig}
\usepackage{minted}
\usepackage[most]{tcolorbox}
\usepackage{fontawesome}
\usepackage{hyperref}
\usepackage[all]{hypcap}

% aliases to support old fontawesome package versions
\providecommand\faArrowCircleDown{\faCircleArrowDown}
\providecommand\faArrowCircleUp{\faCircleArrowUp}
\providecommand\faArrowCircleRight{\faCircleArrowRight}
\providecommand\faArrowCircleLeft{\faCircleArrowLeft}

\usemintedstyle{autumn}

\graphicspath{{images/}}

\include{revision}

\bibliographystyle{plain}

\title{Game Boy: Complete Hardware Reference}
\author{gekkio\\ \url{https://gekkio.fi}}
\renewcommand{\maketitlehookd}{
  \begin{center}
    Revision \Revision

    \ifdraftdoc
      DRAFT!
    \fi

    \vfill

    \href{http://creativecommons.org/licenses/by-sa/4.0/}{\Huge \ccbysa}

    This work is licensed under a \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons Attribution-ShareAlike 4.0 International License}.
  \end{center}
}

\ifdraftdoc
  \makeevenfoot{plain}{}{\thepage}{\textit{DRAFT! \Revision}}
  \makeoddfoot{plain}{\textit{DRAFT! \Revision}}{\thepage}{}
  \makeevenfoot{headings}{}{}{\textit{DRAFT! \Revision}}
  \makeoddfoot{headings}{\textit{DRAFT! \Revision}}{}{}
\fi

\hypersetup{final,unicode=true,pdfborder={0 0 0},bookmarksnumbered=true,pdfpagemode=UseOutlines,pdfauthor=gekkio,pdftitle=\thetitle}

\setlrmarginsandblock{2cm}{2cm}{*}
\setulmarginsandblock{2cm}{2cm}{*}
\checkandfixthelayout

\newtcolorbox{speculation}
{colframe=SteelBlue,colback=Azure,after upper={\hfill\colorbox{SteelBlue}{\color{white}speculation}}}

\begin{document}

\hypersetup{pageanchor=false}

\begin{titlingpage}
  \calccentering{\unitlength}
  \setlength{\droptitle}{80pt}
  \begin{adjustwidth*}{\unitlength}{-\unitlength}
    \maketitle
  \end{adjustwidth*}
\end{titlingpage}

\hypersetup{pageanchor=true}

\tableofcontents

\chapter*{Introduction}

\chapter*{How to read this document}

\begin{speculation}
  This is something that hasn't been verified, but would make a lot of sense.
\end{speculation}

\part{Game Boy circuit boards and chips}
\include{xx-cpu-chips}
\include{xx-mainboards}
\include{xx-dmg-boards}
\nocite{gbhwdb}

\part{Game Boy game cartridge boards and chips}

\part*{Appendices}
\addcontentsline{toc}{part}{Appendices}
\phantomsection

\begin{appendices}
\end{appendices}

\bibliography{gbchr}

\end{document}
